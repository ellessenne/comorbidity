<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Maps comorbidity conditions using algorithms from the Charlson and the Elixhauser comorbidity scores."><title>Comorbidity mapping. — comorbidity • comorbidity</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Atkinson_Hyperlegible-0.4.9/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.9/font.css" rel="stylesheet"><link href="../deps/Sofia_Sans_Condensed-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comorbidity mapping. — comorbidity"><meta property="og:description" content="Maps comorbidity conditions using algorithms from the Charlson and the Elixhauser comorbidity scores."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">comorbidity</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.7.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/A-introduction.html">Introduction</a>
    <a class="dropdown-item" href="../articles/B-comorbidity-scores.html">Supported Comorbidity Mappings and Scores</a>
    <a class="dropdown-item" href="../articles/C-changes.html">Updating to {comorbidity} 1.0.0</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ellessenne/comorbidity/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Comorbidity mapping.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ellessenne/comorbidity/blob/HEAD/R/comorbidity.R" class="external-link"><code>R/comorbidity.R</code></a></small>
      <div class="d-none name"><code>comorbidity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Maps comorbidity conditions using algorithms from the Charlson and the Elixhauser comorbidity scores.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">comorbidity</span><span class="op">(</span><span class="va">x</span>, <span class="va">id</span>, <span class="va">code</span>, <span class="va">map</span>, <span class="va">assign0</span>, labelled <span class="op">=</span> <span class="cn">TRUE</span>, tidy.codes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A tidy <code>data.frame</code> (or a <code>data.table</code>; <code>tibble</code>s are supported too) with one column containing an individual ID and a column containing all diagnostic codes.
Extra columns other than ID and codes are discarded.
Column names must be syntactically valid names, otherwise they are forced to be so by calling the <code><a href="https://rdrr.io/r/base/make.names.html" class="external-link">make.names()</a></code> function.</p></dd>


<dt>id</dt>
<dd><p>String denoting the name of a column of <code>x</code> containing the individual ID.</p></dd>


<dt>code</dt>
<dd><p>String denoting the name of a column of <code>x</code> containing diagnostic codes.
Codes must be in upper case with no punctuation in order to be properly recognised.</p></dd>


<dt>map</dt>
<dd><p>String denoting the mapping algorithm to be used (values are case-insensitive).
Possible values are the Charlson score with either ICD-10 or ICD-9-CM codes (<code>charlson_icd10_quan</code>, <code>charlson_icd9_quan</code>) and the Elixhauser score, again using either ICD-10 or ICD-9-CM (<code>elixhauser_icd10_quan</code>, <code>elixhauser_icd9_quan</code>).
These mapping are based on the paper by Quan et al. (2011).
It is also possible to obtain a Swedish (<code>charlson_icd10_se</code>) or Australian (<code>charlson_icd10_am</code>) modification of the Charlson score using ICD-10 codes.</p></dd>


<dt>assign0</dt>
<dd><p>Logical value denoting whether to apply a hierarchy of comorbidities: should a comorbidity be present in a patient with different degrees of severity, then the milder form will be assigned a value of 0.
By doing this, a type of comorbidity is not counted more than once in each patient.
If <code>assign0 = TRUE</code>, the comorbidities that are affected by this argument are:</p><ul><li><p>"Mild liver disease" (<code>mld</code>) and "Moderate/severe liver disease" (<code>msld</code>) for the Charlson score;</p></li>
<li><p>"Diabetes" (<code>diab</code>) and "Diabetes with complications" (<code>diabwc</code>) for the Charlson score;</p></li>
<li><p>"Cancer" (<code>canc</code>) and "Metastatic solid tumour" (<code>metacanc</code>) for the Charlson score;</p></li>
<li><p>"Hypertension, uncomplicated" (<code>hypunc</code>) and "Hypertension, complicated" (<code>hypc</code>) for the Elixhauser score;</p></li>
<li><p>"Diabetes, uncomplicated" (<code>diabunc</code>) and "Diabetes, complicated" (<code>diabc</code>) for the Elixhauser score;</p></li>
<li><p>"Solid tumour" (<code>solidtum</code>) and "Metastatic cancer" (<code>metacanc</code>) for the Elixhauser score.</p></li>
</ul></dd>


<dt>labelled</dt>
<dd><p>Logical value denoting whether to attach labels to each comorbidity, which are compatible with the RStudio viewer via the <code><a href="https://rdrr.io/r/utils/View.html" class="external-link">utils::View()</a></code> function.
Defaults to <code>TRUE</code>.</p></dd>


<dt>tidy.codes</dt>
<dd><p>Logical value, defaulting to <code>TRUE</code>, denoting whether ICD codes are to be tidied.
If <code>TRUE</code>, all codes are converted to upper case and all non-alphanumeric characters are removed using the regular expression <code>[^[:alnum:]]</code>.
It can be set to <code>FALSE</code> to speed up computations, but please be aware that in that case codes are assumed to be formatted as above.
If codes are incorrectly formatted, this may lead to wrong results: use at your own risk!</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame with <code>id</code> and columns relative to each comorbidity domain, with one row per individual.</p>


<p>For the Charlson score, the following variables are included in the dataset:</p><ul><li><p>The <code>id</code> variable as defined by the user;</p></li>
<li><p><code>mi</code>, for myocardial infarction;</p></li>
<li><p><code>chf</code>, for congestive heart failure;</p></li>
<li><p><code>pvd</code>, for peripheral vascular disease;</p></li>
<li><p><code>cevd</code>, for cerebrovascular disease;</p></li>
<li><p><code>dementia</code>, for dementia;</p></li>
<li><p><code>cpd</code>, for chronic pulmonary disease;</p></li>
<li><p><code>rheumd</code>, for rheumatoid disease;</p></li>
<li><p><code>pud</code>, for peptic ulcer disease;</p></li>
<li><p><code>mld</code>, for mild liver disease;</p></li>
<li><p><code>diab</code>, for diabetes without complications;</p></li>
<li><p><code>diabwc</code>, for diabetes with complications;</p></li>
<li><p><code>hp</code>, for hemiplegia or paraplegia;</p></li>
<li><p><code>rend</code>, for renal disease;</p></li>
<li><p><code>canc</code>, for cancer (any malignancy);</p></li>
<li><p><code>msld</code>, for moderate or severe liver disease;</p></li>
<li><p><code>metacanc</code>, for metastatic solid tumour;</p></li>
<li><p><code>aids</code>, for AIDS/HIV.
Please note that we combine "chronic obstructive pulmonary disease" and "chronic other pulmonary disease" for the Swedish version of the Charlson index, for comparability (and compatibility) with other definitions/implementations.</p></li>
</ul><p>Conversely, for the Elixhauser score the dataset contains the following variables:</p><ul><li><p>The <code>id</code> variable as defined by the user;</p></li>
<li><p><code>chf</code>, for congestive heart failure;</p></li>
<li><p><code>carit</code>, for cardiac arrhythmias;</p></li>
<li><p><code>valv</code>, for valvular disease;</p></li>
<li><p><code>pcd</code>, for pulmonary circulation disorders;</p></li>
<li><p><code>pvd</code>, for peripheral vascular disorders;</p></li>
<li><p><code>hypunc</code>, for hypertension, uncomplicated;</p></li>
<li><p><code>hypc</code>, for hypertension, complicated;</p></li>
<li><p><code>para</code>, for paralysis;</p></li>
<li><p><code>ond</code>, for other neurological disorders;</p></li>
<li><p><code>cpd</code>, for chronic pulmonary disease;</p></li>
<li><p><code>diabunc</code>, for diabetes, uncomplicated;</p></li>
<li><p><code>diabc</code>, for diabetes, complicated;</p></li>
<li><p><code>hypothy</code>, for hypothyroidism;</p></li>
<li><p><code>rf</code>, for renal failure;</p></li>
<li><p><code>ld</code>, for liver disease;</p></li>
<li><p><code>pud</code>, for peptic ulcer disease, excluding bleeding;</p></li>
<li><p><code>aids</code>, for AIDS/HIV;</p></li>
<li><p><code>lymph</code>, for lymphoma;</p></li>
<li><p><code>metacanc</code>, for metastatic cancer;</p></li>
<li><p><code>solidtum</code>, for solid tumour, without metastasis;</p></li>
<li><p><code>rheumd</code>, for rheumatoid arthritis/collaged vascular disease;</p></li>
<li><p><code>coag</code>, for coagulopathy;</p></li>
<li><p><code>obes</code>, for obesity;</p></li>
<li><p><code>wloss</code>, for weight loss;</p></li>
<li><p><code>fed</code>, for fluid and electrolyte disorders;</p></li>
<li><p><code>blane</code>, for blood loss anaemia;</p></li>
<li><p><code>dane</code>, for deficiency anaemia;</p></li>
<li><p><code>alcohol</code>, for alcohol abuse;</p></li>
<li><p><code>drug</code>, for drug abuse;</p></li>
<li><p><code>psycho</code>, for psychoses;</p></li>
<li><p><code>depre</code>, for depression;</p></li>
</ul><p>Labels are presented to the user when using the RStudio viewer (e.g. via the <code><a href="https://rdrr.io/r/utils/View.html" class="external-link">utils::View()</a></code> function) for convenience, if <code>labelled = TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The ICD-10 and ICD-9-CM coding for the Charlson and Elixhauser scores is based on work by Quan <em>et al</em>. (2005).
ICD-10 and ICD-9 codes must be in upper case and with alphanumeric characters only in order to be properly recognised; set <code>tidy.codes = TRUE</code> to properly tidy the codes automatically (this is the default behaviour).
A message is printed to the R console when non-alphanumeric characters are found.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Quan H, Sundararajan V, Halfon P, Fong A, Burnand B, Luthi JC, et al. <em>Coding algorithms for defining comorbidities in ICD-9-CM and ICD-10 administrative data</em>. Medical Care 2005; 43(11):1130-1139.</p>
<p>Charlson ME, Pompei P, Ales KL, et al. <em>A new method of classifying prognostic comorbidity in longitudinal studies: development and validation</em>. Journal of Chronic Diseases 1987; 40:373-383.</p>
<p>Ludvigsson JF, Appelros P, Askling J et al. <em>Adaptation of the Charlson Comorbidity Index for register-based research in Sweden</em>. Clinical Epidemiology 2021; 13:21-41.</p>
<p>Sundararajan V, Henderson T, Perry C, Muggivan A, Quan H, Ghali WA. <em>New ICD-10 version of the Charlson comorbidity index predicted in-hospital mortality</em>. Journal of Clinical Epidemiology 2004; 57(12):1288-1294.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span>, size <span class="op">=</span> <span class="fl">200</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  code <span class="op">=</span> <span class="fu"><a href="sample_diag.html">sample_diag</a></span><span class="op">(</span><span class="fl">200</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Charlson score based on ICD-10 diagnostic codes:</span></span></span>
<span class="r-in"><span><span class="fu">comorbidity</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, id <span class="op">=</span> <span class="st">"id"</span>, code <span class="op">=</span> <span class="st">"code"</span>, map <span class="op">=</span> <span class="st">"charlson_icd10_quan"</span>, assign0 <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id mi chf pvd cevd dementia cpd rheumd pud mld diab diabwc hp rend canc msld</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1  0   0   0    0        0   0      0   0   0    0      0  0    0    1    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2  0   0   0    0        0   0      0   0   0    0      0  0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3  0   0   0    0        0   0      0   0   0    0      0  0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4  0   0   0    0        0   0      0   0   0    0      0  0    0    1    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5  0   0   0    0        0   0      0   0   0    0      0  0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6  0   0   0    0        0   0      0   0   0    0      0  0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7  0   1   0    0        0   0      0   0   1    0      0  0    0    1    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8  0   0   0    0        0   0      0   0   0    0      0  0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9  0   0   0    1        0   0      0   0   0    0      0  0    0    1    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10  0   0   0    0        0   0      0   0   0    0      0  0    0    1    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11  0   0   0    0        0   0      0   0   0    0      0  0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12  0   0   0    0        0   0      0   0   0    0      0  0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13  0   0   0    0        0   0      0   1   0    0      0  0    0    1    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14  0   0   0    0        0   0      0   0   0    0      0  0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15  0   0   0    0        0   0      0   0   0    0      0  0    0    1    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    metacanc aids</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         0    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10        0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11        0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12        0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13        0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14        0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15        0    0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Elixhauser score based on ICD-10 diagnostic codes:</span></span></span>
<span class="r-in"><span><span class="fu">comorbidity</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, id <span class="op">=</span> <span class="st">"id"</span>, code <span class="op">=</span> <span class="st">"code"</span>, map <span class="op">=</span> <span class="st">"elixhauser_icd10_quan"</span>, assign0 <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id chf carit valv pcd pvd hypunc hypc para ond cpd diabunc diabc hypothy rf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1   0     0    0   0   0      0    0    0   0   0       0     0       1  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2   0     0    1   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7   1     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12   0     0    0   0   0      0    0    0   1   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15   0     0    0   0   0      0    0    0   0   0       0     0       0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ld pud aids lymph metacanc solidtum rheumd coag obes wloss fed blane dane</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   0   0    0     0        0        1      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   0   0    1     0        0        0      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   0   0    0     0        0        0      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   0   0    0     0        0        0      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   0   0    0     0        0        0      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   0   0    0     0        0        0      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   1   0    0     0        0        1      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   0   0    0     0        0        0      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   0   0    0     0        0        1      1    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  0   0    0     0        0        1      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  0   0    0     0        0        0      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  0   0    0     0        0        0      0    1    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  0   1    0     0        0        1      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  0   0    0     0        0        0      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  0   0    0     0        0        1      0    0    0     0   0     0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    alcohol drug psycho depre</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4        0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5        0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6        0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        1    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8        0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9        0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10       0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11       0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12       0    1      1     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13       0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14       0    0      0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15       0    0      0     0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The following example describes how the `assign0` argument works.</span></span></span>
<span class="r-in"><span><span class="co"># We create a dataset for a single patient with two codes, one for</span></span></span>
<span class="r-in"><span><span class="co"># uncomplicated diabetes ("E100") and one for complicated diabetes</span></span></span>
<span class="r-in"><span><span class="co"># ("E102"):</span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  id <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"E100"</span>, <span class="st">"E102"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Then, we calculate the Quan-ICD10 Charlson score:</span></span></span>
<span class="r-in"><span><span class="va">ccF</span> <span class="op">&lt;-</span> <span class="fu">comorbidity</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x2</span>, id <span class="op">=</span> <span class="st">"id"</span>, code <span class="op">=</span> <span class="st">"code"</span>, map <span class="op">=</span> <span class="st">"charlson_icd10_quan"</span>, assign0 <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># With `assign0 = FALSE`, both diabetes comorbidities are counted:</span></span></span>
<span class="r-in"><span><span class="va">ccF</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"diab"</span>, <span class="st">"diabwc"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   diab diabwc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1      1</span>
<span class="r-in"><span><span class="co"># Conversely, with `assign0 = TRUE`, only the more severe diabetes with</span></span></span>
<span class="r-in"><span><span class="co"># complications is counted:</span></span></span>
<span class="r-in"><span><span class="va">ccT</span> <span class="op">&lt;-</span> <span class="fu">comorbidity</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x2</span>, id <span class="op">=</span> <span class="st">"id"</span>, code <span class="op">=</span> <span class="st">"code"</span>, map <span class="op">=</span> <span class="st">"charlson_icd10_quan"</span>, assign0 <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ccT</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"diab"</span>, <span class="st">"diabwc"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   diab diabwc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    0      1</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alessandro Gasparini.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

